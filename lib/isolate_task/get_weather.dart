import 'dart:async';import 'package:dio/dio.dart';import 'package:flutter/foundation.dart';import 'package:weather_app/model/weather_model.dart';import 'worker/worker.dart';class GetWeather implements Task<Future<WeatherModel>> {  final Dio dio;  final String data;  final String baseUrl ='82548901df03bcfa8ff8e060b090dfe5';  GetWeather({@required this.dio, @required this.data});  @override  Future<WeatherModel> execute() {    return _doExecute();  }  Future<WeatherModel> _doExecute() async {    var completer = Completer<WeatherModel>();    try {      Response response = await dio.get(          'http://api.openweathermap.org/data/2.5/forecast/daily?appid=$baseUrl&q=$data&mode=json&units=metric&cnt=7');      print(' DATAAAAAAAAAA ${response.data.toString()}');      WeatherModel todoModel = WeatherModel.fromJson(response.data);      print('GetWeather is DONE result=$todoModel');      completer.complete(todoModel);    } catch (e) {      if(e.response.statusCode == 404){        print('ERRRRRRRRRRRRRRR'+e.response.statusCode);      }else{        print(e.message);        print(e.request);      }      print('GetWeather error: $e');      completer.completeError(e);    }    return completer.future;  }}